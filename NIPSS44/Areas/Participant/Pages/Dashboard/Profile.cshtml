@page
@model NIPSS44.Areas.Participant.Pages.Dashboard.ProfileModel
@{
}


@if (TempData["alert"] != null)
{
    <div class="alert alert-danger alert-styled-left alert-dismissible">
        <button type="button" class="close" data-dismiss="alert"><span>×</span></button>
        <span class="font-weight-semibold">Info:</span> @TempData["alert"]
    </div>
}

<!-- Horizontal Form -->
<div class="box box-info">

    <div class="box-body">

        <div class="row">
            <div class="col-xl-12">

                <!-- Traffic sources -->
                <div class="">
                    <div class="profile-cover">
                        <div class="profile-cover-img" style="background-image: url(http://sec4pss.com/picture/cover2.jpg)"></div>
                        <div class="media align-items-center text-center text-lg-left flex-column flex-lg-row m-0">
                            <div class="mr-lg-3 mb-2 mb-lg-0">
                                <a href="#" class="profile-thumb">
                                    @if (!String.IsNullOrEmpty(Model.Profile.AboutProfile))
                                    {
                                        <img src="@Model.Profile.AboutProfile" class="border-white rounded-circle" width="48" height="48" alt="">

                                    }
                                    else
                                    {
                                        <img src="~/img/piop.png" class="border-white rounded-circle" width="48" height="48" alt="">

                                    }

                                </a>

                            </div>

                            <div class="media-body">
                                <h1 class="mb-0">@Model.Profile.Title @Model.Profile.FullName</h1>
                                @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                                {
                                    <span>NIPSS ADMIN</span>
                                }
                                else
                                {
                                    @if (Model.StudyGroup != null)
                                    {
                                        <span class="d-block">@Model.StudyGroup.StudyGroup.Title [ @Model.StudyGroup.Position ]</span>
                                    }
                                    else
                                    {
                                        <span class="d-block"> STUDY GROUP [NOT ASSIGNED]</span>
                                    }
                                    <span class="d-block">Sponsor [@Model.Profile.Sponsor]</span>
                                }
                                </div>

                            <div class="ml-lg-3 mt-2 mt-lg-0">
                                <ul class="list-inline list-inline-condensed mb-0">
                                    <li class="list-inline-item"><a asp-page="./ChangeImage" class="btn btn-primary"><i class="icon-file-picture mr-2"></i> Change Picture</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /traffic sources -->
                <div class="">
                    <div class="box-header">
                        <h6 class="box-title">Profile information</h6>
                        <p>Kindly input the correct information and update.</p>
                    </div>

                    <div class="box-body">
                        <form method="post">
                            <input asp-for="Profile.Id" hidden="hidden">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <label>Title</label>
                                        <select asp-for="Profile.Title" class="form-control" required="required">

                                            <option value="Mr">Mr</option>
                                            <option value="Mrs">Mrs</option>
                                            <option value="Col.">Col.</option>
                                            <option value="Capt Navy.">Capt Navy.</option>
                                            <option value="Brig Gen.">Brig Gen.</option>
                                            <option value="Air Comdr.">Air Comdr.</option>
                                            <option value="AVM">AVM</option>
                                            <option value="Gp Capt.">Gp Capt.</option>
                                            <option value="Dr">Dr</option>
                                            <option value="Engr.">Engr.</option>
                                            <option value="Pharm.">Pharm.</option>
                                            <option value="CP">CP</option>
                                            <option value="AIG">AIG</option>
                                            <option value="DIG">DIG</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Full Name</label>
                                        <input asp-for="Profile.FullName" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <label>Gender</label>
                                        <select asp-for="Profile.Gender" class="form-control" required="required">
                                            <option>None</option>
                                            <option value="Male">Male</option>
                                            <option value="Female">Female</option>
                                        </select>
                                    </div>

                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <label>DOB</label>
                                        <input asp-for="Profile.DOB" class="form-control" type="date">
                                    </div>
                                    <div class="col-lg-6">
                                        <label>Residence Address</label>
                                        <input asp-for="Profile.ResidenceAddress" class="form-control">
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <label>State of Origin <span class="d-block bg-green" style="padding:3px;">(@Model.Profile.StateOfOrigin)</span></label>
                                        <select asp-for="Profile.StateOfOrigin" asp-items="ViewBag.StateId" required="required" id="State" class="form-control">
                                            <option>Select State</option>

                                        </select>
                                    </div>
                                    <div class="col-lg-6">
                                        <label>L G A <span class="d-block bg-green" style="padding:3px;">(@Model.Profile.LGA)</span></label>
                                        <select asp-for="Profile.LGA" id="LGA" class="form-control" required="required"></select>

                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <label>
                                            Study Group @if (Model.StudyGroup != null)
                                            {
                                                <span class="d-block bg-green" style="padding:3px;">@Model.StudyGroup.StudyGroup.Title.Replace("STUDY GROUP ", "")</span>
                                            }
                                            else
                                            {
                                                <span class="d-block bg-green" style="padding:3px;"> STUDY GROUP [NOT ASSIGNED]</span>
                                            }
                                        </label>

                                        <select asp-for="GroupMemberId" class="form-control" asp-items="ViewBag.StudyGroupId">
                                            <option>Select</option>
                                        </select>

                                    </div>
                                    @*<input asp-for="GroupMemberId" hidden="hidden">*@

                                    <div class="col-lg-6">
                                        <label>Group Position</label>
                                        <input asp-for="GroupPosition" class="form-control">

                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">

                                    <div class="col-lg-6">
                                        <label>Sponsor</label>
                                        <input asp-for="Profile.Sponsor" class="form-control">
                                    </div>
                                    <div class="col-lg-6">
                                        <label>PS Number</label>
                                        <select asp-for="Profile.PsNumber" class="form-control" required="required">
                                            <option>None</option>
                                            <option value="Lake Side 1">Lake Side 1</option>
                                            <option value="Lake Side 2">Lake Side 2</option>
                                            <option value="Lake Side 3">Lake Side 3</option>
                                            <option value="Lake Side 4">Lake Side 4</option>
                                            <option value="Lake Side 5">Lake Side 5</option>
                                            <option value="Lake Side 6">Lake Side 6</option>
                                            <option value="Lake Side 7">Lake Side 7</option>
                                            <option value="Lake Side 8">Lake Side 8</option>
                                            <option value="Lake Side 9">Lake Side 9</option>
                                            <option value="Lake Side 10">Lake Side 10</option>
                                            <option value="Lake Side 11">Lake Side 11</option>
                                            <option value="Lake Side 12">Lake Side 12</option>
                                            <option value="Lake Side 13">Lake Side 13</option>
                                            <option value="Lake Side 14">Lake Side 14</option>
                                            <option value="Lake Side 15">Lake Side 15</option>
                                            <option value="Lake Side 16">Lake Side 16</option>
                                            <option value="Lake Side 17">Lake Side 17</option>
                                            <option value="Lake Side 18">Lake Side 18</option>
                                            <option value="Lake Side 19">Lake Side 19</option>
                                            <option value="Lake Side 20">Lake Side 20</option>
                                            <option value="Lake Side 21">Lake Side 21</option>
                                            <option value="Lake Side 22">Lake Side 22</option>
                                            <option value="Lake Side 23">Lake Side 23</option>
                                            <option value="Lake Side 24">Lake Side 24</option>
                                            <option value="Lake Side 25">Lake Side 25</option>
                                            <option value="Lake Side 26">Lake Side 26</option>
                                            <option value="PS Number 1">PS Number 1</option>
                                            <option value="PS Number 2">PS Number 2</option>
                                            <option value="PS Number 3">PS Number 3</option>
                                            <option value="PS Number 4">PS Number 4</option>
                                            <option value="PS Number 5">PS Number 5</option>
                                            <option value="PS Number 6">PS Number 6</option>
                                            <option value="PS Number 7">PS Number 7</option>
                                            <option value="PS Number 8">PS Number 8</option>
                                            <option value="PS Number 9">PS Number 9</option>
                                            <option value="PS Number 10">PS Number 10</option>
                                            <option value="PS Number 11">PS Number 11</option>
                                            <option value="PS Number 12">PS Number 12</option>
                                            <option value="PS Number 13">PS Number 13</option>
                                            <option value="PS Number 14">PS Number 14</option>
                                            <option value="PS Number 15">PS Number 15</option>
                                            <option value="PS Number 16">PS Number 16</option>
                                            <option value="PS Number 17">PS Number 17</option>
                                            <option value="PS Number 18">PS Number 18</option>
                                            <option value="PS Number 19">PS Number 19</option>
                                            <option value="PS Number 20">PS Number 20</option>
                                            <option value="PS Number 21">PS Number 21</option>
                                            <option value="PS Number 22">PS Number 22</option>
                                            <option value="PS Number 23">PS Number 23</option>
                                            <option value="PS Number 24">PS Number 24</option>
                                            <option value="PS Number 25">PS Number 25</option>
                                            <option value="PS Number 26">PS Number 26</option>
                                            <option value="PS Number 27">PS Number 27</option>
                                            <option value="PS Number 28">PS Number 28</option>
                                            <option value="PS Number 29">PS Number 29</option>
                                            <option value="PS Number 30">PS Number 30</option>
                                            <option value="PS Number 31">PS Number 31</option>
                                            <option value="PS Number 32">PS Number 32</option>
                                            <option value="PS Number 33">PS Number 33</option>
                                            <option value="PS Number 34">PS Number 34</option>
                                            <option value="PS Number 35">PS Number 35</option>
                                            <option value="PS Number 36">PS Number 36</option>
                                            <option value="PS Number 37">PS Number 37</option>
                                            <option value="PS Number 38">PS Number 38</option>
                                            <option value="PS Number 39">PS Number 39</option>
                                            <option value="PS Number 40">PS Number 40</option>
                                            <option value="PS Number 41">PS Number 41</option>
                                            <option value="PS Number 42">PS Number 42</option>
                                            <option value="PS Number 43">PS Number 43</option>
                                            <option value="PS Number 44">PS Number 44</option>
                                            <option value="PS Number 45">PS Number 45</option>
                                            <option value="PS Number 46">PS Number 46</option>
                                            <option value="PS Number 47">PS Number 47</option>
                                            <option value="PS Number 48">PS Number 48</option>
                                            <option value="PS Number 49">PS Number 49</option>
                                            <option value="PS Number 50">PS Number 50</option>
                                            <option value="PS Number 51">PS Number 51</option>
                                            <option value="PS Number 52">PS Number 52</option>
                                            <option value="PS Number 53">PS Number 53</option>
                                            <option value="PS Number 54">PS Number 54</option>
                                            <option value="PS Number 55">PS Number 55</option>
                                            <option value="PS Number 56">PS Number 56</option>
                                            <option value="PS Number 57">PS Number 57</option>
                                            <option value="PS Number 58">PS Number 58</option>
                                            <option value="PS Number 59">PS Number 59</option>
                                            <option value="PS Number 60">PS Number 60</option>
                                            <option value="PS Number 61">PS Number 61</option>
                                            <option value="PS Number 62">PS Number 62</option>
                                            <option value="PS Number 63">PS Number 63</option>
                                            <option value="PS Number 64">PS Number 64</option>
                                            <option value="PS Number 65">PS Number 65</option>
                                            <option value="PS Number 66">PS Number 66</option>
                                            <option value="PS Number 67">PS Number 67</option>
                                            <option value="PS Number 68">PS Number 68</option>
                                            <option value="PS Number 69">PS Number 69</option>
                                            <option value="PS Number 70">PS Number 70</option>
                                            <option value="PS Number 71">PS Number 71</option>
                                            <option value="PS Number 72">PS Number 72</option>
                                            <option value="PS Number 73">PS Number 73</option>
                                            <option value="PS Number 74">PS Number 74</option>
                                            <option value="PS Number 75">PS Number 75</option>
                                            <option value="PS Number 76">PS Number 76</option>
                                            <option value="PS Number 77">PS Number 77</option>
                                            <option value="PS Number 78">PS Number 78</option>
                                            <option value="PS Number 79">PS Number 79</option>
                                            <option value="PS Number 80">PS Number 80</option>
                                        </select>
                                    </div>
                                </div>
                            </div>


                            <div class="text-right">
                                <button type="submit" class="btn btn-primary">Save changes</button>
                            </div>
                        </form>
                    </div>
                </div>


            </div>


        </div>
    </div>
</div>
@section Scripts {
    <script type="text/jscript">
    $(function () {
        $('#State').change(function () {
            console.log("enter")

                //$.getJSON('/Profile?handler=LGA' + $('#State').val(), function (data) {
                //    console.log("in")
                //    var items = '<option>Choose LGA</option>';
                //    $.each(jQuery.map(data, function (i, local) {
                //        items += "<option value='" + i.value + "'>" + i.text + "</option>";
                //        console.log("vin")
                //    }));

                //    $('#LGA').html(items);
                //});

            $.ajax({
                type: 'GET',
                url: 'Profile?handler=LGA',
                dataType: "json",
                data: {
                    id: $('#State').val()
                },
                contentType: "application/json; charset=utf-8",
                error: function () {
                    console.log("error");
                },
                success: function (data) {
                    console.log("yes");

                    console.log(data);
                    var items = '<option>Choose LGA</option>';
                    $.each(jQuery.map(data, function (i, local) {
                        items += "<option value='" + i.value + "'>" + i.text + "</option>";
                        console.log("vin")
                    }));

                    $('#LGA').html(items);
                   
                }
            });
            console.log("pass")
            });
        });
    </script>

}